# Token Holders Feature

## 概述
新增了实时同步检测代币持仓前二十的持有者地址功能，使用连接好的RPC获取真实数据并显示在右下角的侧边栏中。

## 功能特性

### 1. 实时数据获取
- 使用配置的RPC连接获取真实的代币持仓数据
- 每10秒自动刷新一次数据
- 与交易检测控制同步，当检测开启时自动开始获取持仓数据

### 2. 数据显示
- 显示前20名持仓者
- 包含排名、地址（缩写显示）、持仓数量
- 持仓数量自动格式化（K、M单位）
- 点击地址可复制完整地址

### 3. 界面集成
- 集成在右下角的现有侧边栏中
- 保持与现有UI风格一致
- 响应式设计，适配不同屏幕尺寸

## 技术实现

### 1. 新增模块
- `js/modules/TokenHoldersManager.js` - 持仓者数据管理模块

### 2. 主要功能
```javascript
class TokenHoldersManager {
    // 连接Solana RPC
    async connect(rpcUrl)
    
    // 获取前20名持仓者
    async fetchTopHolders()
    
    // 更新显示
    updateHoldersDisplay()
    
    // 格式化地址和余额
    formatAddress(address)
    formatBalance(balance)
}
```

### 3. 数据获取流程
1. 使用 `getTokenAccountsByMint()` 获取所有代币账户
2. 解析账户数据，提取持有人地址和余额
3. 按余额排序，取前20名
4. 更新UI显示

### 4. 集成方式
- 在主应用中自动初始化
- 与TransactionTracker共享RPC连接
- 与检测控制同步启动/停止

## 使用方法

### 1. 配置
在后台管理系统中配置：
- RPC URL
- 代币地址

### 2. 启动
- 开启交易检测后，持仓者数据会自动开始获取
- 数据每10秒刷新一次
- 倒计时显示下次刷新时间

### 3. 交互
- 点击持仓者地址可复制完整地址
- 鼠标悬停显示提示信息

## 测试

### 测试页面
- `test_token_holders.html` - 独立测试持仓者功能

### 测试功能
- 配置保存/加载
- 单次获取数据
- 连续获取数据
- 错误处理

## 样式

### CSS类
```css
.holder-list          // 持仓者列表容器
.holder-item          // 单个持仓者项目
.holder-rank          // 排名显示
.holder-address       // 地址显示
.holder-balance       // 余额显示
```

### 响应式设计
- 桌面端：完整显示
- 移动端：适配小屏幕

## 注意事项

1. **RPC限制**：大量代币账户可能影响性能
2. **数据准确性**：依赖RPC节点的数据准确性
3. **网络延迟**：网络状况可能影响数据获取速度
4. **错误处理**：包含完整的错误处理和重试机制

## 未来扩展

1. **更多数据**：显示持仓百分比、变化趋势
2. **筛选功能**：按持仓量筛选
3. **历史记录**：保存历史持仓数据
4. **通知功能**：大额持仓变化通知 